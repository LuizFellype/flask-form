<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Agendamento de Laboratórios</title>
    <link rel="stylesheet" href="./static/css/index.css">
    <style>
       
    </style>
</head>

<body>
    <div class="bg">
        <div class="form-container">
            <h2>Agendar Laboratório</h2>
            <label for="email">Email:</label>
            <input type="text" id="email">
            <label for="laboratorio">Laboratório:</label>
            <select id="laboratorio">
                <option value="Laboratório de Pesquisa">Laboratório de Pesquisa</option>
                <option value="Laboratório de Estudo">Laboratório de Estudo</option>
            </select>
            <label for="data">Data:</label>
            <input type="date" id="data">
            <label for="horario">Horário:</label>
            <input type="time" id="horario">
            <label for="quantidade">Quantidade de Alunos:</label>
            <input type="number" id="quantidade">
            <label for="programa">Programa Específico:</label>
            <input type="text" id="programa">
            <div class="center">
                <button onclick="agendarHorario()">Agendar</button>
            </div>
        </div>
    </div>

    <script>
        function agendarHorario() {
            var email = document.getElementById("email").value;
            var laboratorio = document.getElementById("laboratorio").value;
            var data = document.getElementById("data").value;
            var horario = document.getElementById("horario").value;
            var quantidade = document.getElementById("quantidade").value;
            var programa = document.getElementById("programa").value;

            // Lógica para agendar o horário no laboratório escolhido
            // Aqui você pode enviar os dados para o backend e lidar com o envio de e-mails

            // Exemplo de envio de dados para um servidor backend
            var agendamento = {
                email,
                lab: laboratorio,
                date: data,
                hour: horario,
                qtd: quantidade,
                requirements: programa
            };

            // Enviar os dados para o backend usando AJAX ou Fetch API
            fetch('https://5rpndw2ghnq2wuga5v6n2jsdgi0hcnfn.lambda-url.us-east-1.on.aws', {
                method: 'POST',
                body: JSON.stringify(agendamento)
            })
                .then(function (response) {
                    return response.json()
                }).then((data) => {
                    const alertMessage = `${data.message}${data.requiredFields ? `: ${data.requiredFields.join()}.` : ''}`
                    alert(alertMessage)
                })
                .catch(function (error) {
                    console.error('Agendamento: Erro -> ', error);
                });
        }
    </script>
</body>

</html>